<% layout('./layouts/boilerplate.ejs') -%>
<div class="filters">
  <div class="filter">
    <a href="/listing/filter/Trending">
      <div><i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Rooms">
      <div><i class="fa-solid fa-bed"></i></div>
      <p>Rooms</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Iconic Cities">
      <div><i class="fa-solid fa-mountain-city"></i></div>
      <p>Iconic cities</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Mountains">
      <div><i class="fa-solid fa-mountain"></i></div>
      <p>Mountains</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Castles">
      <div><i class="fa-brands fa-fort-awesome"></i></div>
      <p>Castles</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Pools">
      <div><i class="fa-solid fa-person-swimming"></i></div>
      <p>Pools</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Camping">
      <div><i class="fa-solid fa-campground"></i></div>
      <p>Camping</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Farms">
      <div><i class="fa-solid fa-cow"></i></div>
      <p>Farms</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Arctic">
      <div><i class="fa-solid fa-snowflake"></i></div>
      <p>Arctic</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Domes">
      <div><i class="fa-solid fa-igloo"></i></div>
      <p>Domes</p>
    </a>
  </div>

  <div class="filter">
    <a href="/listing/filter/Boats">
      <div><i class="fa-solid fa-ship"></i></div>
      <p>Boats</p>
    </a>
  </div>

  <div class="form-check form-switch form-check-reverse tax-toggler ps-1">
    <input class="form-check-input" type="checkbox" id="switchCheckReverse" />
    <label class="form-check-label" for="switchCheckReverse"
      >Display Taxes</label
    >
  </div>
</div>
<% if (allListings.length > 0) { %>
<div class="cards">
  <% for(let listing of allListings) { %>
  <a href="/listing/<%= listing._id %>"
    ><div class="card-">
      <div class="card-img">
        <img src="<%= listing.image.url %>" alt="" /><button class="fa-btn">
          <i class="fa-solid fa-heart"></i>
        </button>
      </div>
      <div class="card--body">
        <div class="card-details">
          <p>
            <b><%= listing.title %></b> <br />
            &#8377;<%= listing.price ?
            Number(listing.price).toLocaleString("en-IN") : "N/A" %>/Night
            <i class="tax-info">+18% Gst</i>
          </p>
        </div>
      </div>
    </div></a
  >
  <% } %>
</div>
<% } else{ %>
<p>no result</p>
<% } %>
<script src="/js/taxToggler.js"></script>
